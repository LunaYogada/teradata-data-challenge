participant <-read_csv("data/2013-2017 Bike MS Participants.csv")
library(tidyverse)
library(stringr)
library(dplyr)
participant <-read_csv("data/2013-2017 Bike MS Participants.csv")
donation13<-read_csv("data/2013 Bike Donations.csv")
?left_join()
View(donation13)
participant <-read_csv("data/2013-2017 Bike MS Participants.csv")
library(tidyverse)
library(dplyr)
library(stringr)
participant <-read_csv("data/2013-2017 Bike MS Participants.csv")
library(tidyverse)
library(dplyr)
library(stringr)
library(ggplot2)
participant%>%
group_by(`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
ggplot(aes(x = `Participant Occupation`, y= ttl_dona ))+
geom_bar()+
facet_wrap(~`Fiscal Year`)
participant%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
ggplot(aes(x = `Participant Occupation`, y= ttl_dona ))+
geom_bar()+
facet_wrap(~`Fiscal Year`)
participant%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))
participant%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
ggplot(aes(x = `Participant Occupation`, y= ttl_dona ))+
geom_col()+
facet_wrap(~`Fiscal Year`)
participant%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, y= ttl_dona , fill =`Participant Occupation` ), position = "dodge")
participant%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, y= ttl_dona , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom")
participant%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
ggplot()+
geom_col(aes(x = `Participant Occupation`, y= ttl_dona , fill =`Fiscal Year` ), position = "dodge")+
theme(legend.position="bottom")
participant%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
ggplot()+
geom_col(aes(x = `Participant Occupation`, y= ttl_dona , fill =`Fiscal Year` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))
participant%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
ggplot()+
geom_col(aes(x = `Participant Occupation`, y= ttl_dona , fill =`Fiscal Year` ), position = "fill")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))
participant%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
ggplot()+
geom_col(aes(x = `Participant Occupation`, y= ttl_dona , fill =`Fiscal Year` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))
participant%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
ggplot()+
geom_col(aes(x = `Participant Occupation`, y= ttl_dona , fill =`Fiscal Year` ), position = "stack")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))
participant%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
ggplot()+
geom_col(aes(x = `Participant Occupation`, y= ttl_dona , fill =`Participant Occupation` ))+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))+
facet_wrap(~`Fiscal Year`)
participant%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
ggplot()+
geom_col(aes(x = `Participant Occupation`, y= ttl_dona  ))+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))+
facet_wrap(~`Fiscal Year`)
participant%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, y= ttl_dona , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))
participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, y= ttl_dona , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))
install.packages("wesanderson")
library(wesanderson)
participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, y= ttl_dona , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1), palette="Moonrise3")
install.packages("RColorBrewer")
library(RColorBrewer)
participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, y= ttl_dona , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))+
scale_fill_brewer(palette="Spectral")
participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, y= ttl_dona , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))+
scale_fill_brewer(palette="Set3")
participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, y= ttl_dona , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))
participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(count_event = count(`Event Date`))%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, count_event , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))
participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(count_event = count(`Event Date`))
participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(count_event = n())
participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(count_team = n())%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, count_event , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))
participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(count_team = n())%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, count_team , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))
participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
arrange(desc(ttl_dona))
top10_ind<-participant[1:10]%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, y= ttl_dona , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))
top10_ind<-participant[1:10]%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, y= ttl_dona , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))
top10_ind
top10_ind<-participant[1:10]
top10_ind%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, y= ttl_dona , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))
top10_ind
sum_ind<-participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
arrange(desc(ttl_dona))
top10_ind<-sum_ind[1:10]
sum_ind<-participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
arrange(desc(ttl_dona))
sum_ind
sum_ind<-participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
arrange(asc(`Fiscal Year`), desc(ttl_dona))
?arrange()
sum_ind<-participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
arrange(asce(`Fiscal Year`), desc(ttl_dona))
participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
filter(rank(desc(ttl_dona))<=10)%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, y= ttl_dona , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))
participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(ttl_dona = sum(`Total of All Confirmed Gifts($)`))%>%
filter(rank(desc(ttl_dona))<=10)%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, y= ttl_dona , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))+
scale_fill_brewer(palette="Set3")
participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(count_team = n())%>%
filter(rank(desc(ttl_dona))<=10)%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, count_team , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))+
scale_fill_brewer(palette="Set3")
participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(count_team = n())%>%
filter(rank(desc(count_team))<=10)%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, count_team , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))+
scale_fill_brewer(palette="Set3")
event <-read_csv("data/2013-2017 Bike Events.csv")
?count()
?unique()
event%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(count_event = count(unique(`Event ID`)))%>%
filter(rank(desc(count_event))<=10)%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, count_event , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))+
scale_fill_brewer(palette="Set3")
participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(count_event = count(unique(`Event ID`)))%>%
filter(rank(desc(count_event))<=10)%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, count_event , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))+
scale_fill_brewer(palette="Set3")
unique(participant$`Event ID`)
count(unique(participant$`Event ID`))
length(unique(participant$`Event ID`))
participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(count_event = length(unique(`Event ID`)))%>%
filter(rank(desc(count_event))<=10)%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, count_event , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))+
scale_fill_brewer(palette="Set3")
participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(count_event = length(unique(`Event ID`)))%>%
filter(rank(desc(count_event))<=10)
participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(count_event = length(unique(`Event ID`)))%>%
filter(rank(desc(count_event))<=10)%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, count_event , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))+
scale_fill_brewer(palette="Set3")
participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(count_event = length(unique(`Event ID`)))%>%
filter(rank(desc(count_event))<=10)%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, count_event , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))
participant%>%
filter(!is.na(`Participant Occupation`))%>%
group_by(`Fiscal Year`,`Participant Occupation`)%>%
summarise(count_event = length(unique(`Event ID`)))%>%
filter(rank(desc(count_event))<=8)%>%
ggplot()+
geom_col(aes(x = `Fiscal Year`, count_event , fill =`Participant Occupation` ), position = "dodge")+
theme(legend.position="bottom", axis.text.x = element_text(angle = 90, hjust = 1))+
scale_fill_brewer(palette="Set3")
